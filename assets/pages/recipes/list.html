<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Công Thức Nấu Ăn - Món Ngon Việt Nam</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-color: #d61c4e;
        --secondary-color: #f77e21;
        --accent-color: #fab207;
        --text-color: #1f1717;
        --light-gray: #f5f5f5;
      }

      body {
        font-family: "Be Vietnam Pro", sans-serif;
        color: var(--text-color);
        background-color: var(--light-gray);
      }

      .navbar {
        background-color: rgba(255, 255, 255, 0.95) !important;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
      }

      .navbar-brand {
        font-weight: 700;
        color: var(--primary-color) !important;
      }

      .nav-link {
        font-weight: 500;
        color: var(--text-color) !important;
        margin: 0 0.5rem;
        position: relative;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary-color);
        transition: width 0.3s ease;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .page-header {
        background: linear-gradient(
          135deg,
          rgba(214, 28, 78, 0.8),
          rgba(247, 126, 33, 0.8)
        );
        background-size: cover;
        background-position: center;
        padding: 100px 0 60px 0;
        color: white;
        margin-bottom: 50px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      @media (max-width: 767px) {
        .page-header .container {
          flex-direction: column !important;
          text-align: center !important;
        }

        .page-header img {
          margin-top: 2rem;
          max-width: 90vw !important;
        }
      }

      .page-header .container {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 2rem;
      }

      @media (min-width: 992px) {
        .page-header .container {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
        }

        .page-header .header-images {
          display: flex;
          gap: 1.5rem;
        }
      }

      .header-images img {
        max-width: 220px;
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        transition: transform 0.4s cubic-bezier(0.4, 2, 0.6, 1);
      }

      .header-images img:hover {
        transform: scale(1.04) rotate(-2deg);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.18);
      }

      .page-header img {
        max-width: 415px;
        width: 100%;
        height: 320px;
        object-fit: cover;
        border-radius: 20px;
        transition: transform 0.4s cubic-bezier(0.4, 2, 0.6, 1);
      }

      @media (max-width: 991px) {
        .page-header img {
          max-width: 90vw !important;
          height: 200px;
        }
      }

      .page-header img:hover {
        transform: scale(1.04) rotate(-2deg);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.18);
      }

      .page-header .btn {
        font-weight: 600;
        letter-spacing: 0.5px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      }

      .page-header .btn-light:hover {
        background: var(--accent-color);
        color: white;
      }

      .page-header .btn-outline-light:hover {
        background: white;
        color: var(--primary-color);
        border-color: white;
      }

      .filter-section {
        background: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
        margin-bottom: 30px;
      }

      .filter-btn {
        border: 1px solid #ddd;
        padding: 8px 20px;
        border-radius: 20px;
        margin: 5px;
        background: white;
        color: var(--text-color);
        transition: all 0.3s ease;
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .recipe-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        margin-bottom: 30px;
      }

      .recipe-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      }

      .recipe-image {
        height: 200px;
        object-fit: cover;
      }

      .recipe-info {
        padding: 20px;
      }

      .recipe-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--text-color);
      }

      .recipe-meta {
        display: flex;
        align-items: center;
        gap: 15px;
        color: #666;
        font-size: 0.9rem;
      }

      .recipe-meta i {
        color: var(--primary-color);
      }

      .recipe-tags {
        margin-top: 15px;
      }

      .recipe-tag {
        display: inline-block;
        padding: 4px 12px;
        background: var(--light-gray);
        border-radius: 15px;
        font-size: 0.8rem;
        margin-right: 8px;
        color: var(--text-color);
      }

      .pagination {
        margin-top: 40px;
      }

      .page-link {
        color: var(--text-color);
        border: none;
        margin: 0 5px;
        border-radius: 5px;
        padding: 8px 16px;
      }

      .page-link:hover,
      .page-item.active .page-link {
        background: var(--primary-color);
        color: white;
      }

      .search-box {
        position: relative;
        margin-bottom: 30px;
      }

      .search-input {
        width: 100%;
        padding: 15px 20px;
        border: none;
        border-radius: 10px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
      }

      .search-btn {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
      }

      .social-links a {
        transition: background 0.3s, color 0.3s, box-shadow 0.3s;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .social-links a:hover {
        background: #fff !important;
        color: var(--primary-color) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        text-decoration: none;
      }

      .navbar-nav .btn {
        font-weight: 600;
        border-radius: 8px;
        margin-left: 10px;
        transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      }
      .navbar-nav .btn-outline-primary {
        border: 2px solid var(--primary-color);
        color: var(--primary-color);
        background: white;
      }
      .navbar-nav .btn-outline-primary:hover {
        background: var(--primary-color);
        color: white;
      }
      .navbar-nav .btn-primary {
        background: var(--primary-color);
        border: 2px solid var(--primary-color);
        color: white;
      }
      .navbar-nav .btn-primary:hover {
        background: #1abc9c;
        border-color: #1abc9c;
        color: white;
      }
      @media (max-width: 991px) {
        .navbar-nav .btn {
          margin-left: 0;
          margin-top: 10px;
        }
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="/index.html">
          <img
            src="/assets/images/logo.png"
            height="40"
            class="me-2"
            alt="Logo"
          />
          Món Ngon Việt Nam
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto align-items-center">
            <li class="nav-item">
              <a class="nav-link" href="/index.html">Trang chủ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/pages/recipes/list.html"
                >Công thức</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/blog.html">Blog</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/about.html">Về chúng tôi</a>
            </li>
            <li class="nav-item ms-3">
              <a
                class="btn btn-outline-primary px-4 py-2 ms-2"
                href="/pages/auth/login.html"
                id="loginBtn"
              >
                Đăng nhập
              </a>
              <a
                class="btn btn-primary px-4 py-2 ms-2"
                href="/pages/auth/register.html"
                id="registerBtn"
              >
                Đăng ký
              </a>
            </li>
            <li class="nav-item ms-2">
              <a
                class="btn btn-primary px-4 py-2"
                href="/pages/user/add-recipe.html"
                id="addRecipeBtn"
                style="display: none"
              >
                <i class="fas fa-plus-circle me-2"></i>Chia sẻ công thức
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
      <div
        class="container d-flex flex-column flex-md-row align-items-center justify-content-between gap-4"
      >
        <div class="text-start flex-grow-1">
          <h1 class="display-4 fw-bold mb-3">Khám Phá Công Thức</h1>
          <p class="lead mb-3">
            <i class="fas fa-utensils me-2"></i>Hàng ngàn công thức nấu ăn từ
            cộng đồng yêu bếp Việt Nam
          </p>
          <div class="d-flex gap-3 flex-wrap">
            <a
              href="/pages/user/add-recipe.html"
              class="btn btn-light btn-lg shadow-sm"
            >
              <i class="fas fa-plus-circle me-2"></i>Chia sẻ công thức
            </a>
            <a
              href="#recipeGrid"
              class="btn btn-outline-light btn-lg shadow-sm"
            >
              <i class="fas fa-fire me-2"></i>Xem công thức nổi bật
            </a>
          </div>
        </div>
        <div class="header-images d-none d-md-flex">
          <img src="/assets/images/auth/khampha.jpg" alt="Khám phá công thức" />
          <img
            src="/assets/images/auth/khampha1.jpg"
            alt="Khám phá công thức"
          />
          <img
            src="/assets/images/auth/khamphaCT.jpg"
            alt="Khám phá công thức"
          />
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container">
      <!-- Search Box -->
      <div class="search-box">
        <input
          type="text"
          class="search-input"
          placeholder="Tìm kiếm công thức..."
        />
        <button class="search-btn rounded-pill">
          <i class="fas fa-search me-2"></i>Tìm kiếm
        </button>
      </div>

      <!-- Filters -->
      <div class="filter-section">
        <div class="d-flex flex-wrap justify-content-center">
          <button class="filter-btn active" data-category="Tất cả">
            Tất cả
          </button>
          <button class="filter-btn" data-category="Món chính">
            Món chính
          </button>
          <button class="filter-btn" data-category="Tráng miệng">
            Món tráng miệng
          </button>
          <button class="filter-btn" data-category="Đồ uống">Đồ uống</button>
          <button class="filter-btn" data-category="Món chay">Món chay</button>
          <button class="filter-btn" data-category="Ăn vặt">Ăn vặt</button>
          <button class="filter-btn" data-category="Món khai vị">
            Món khai vị
          </button>
        </div>
      </div>

      <!-- Recipe Grid -->
      <div class="row" id="recipeGrid"></div>

      <!-- Pagination -->
      <nav aria-label="Page navigation" class="d-flex justify-content-center">
        <ul class="pagination">
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item active"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Footer -->
    <footer
      class="footer mt-5 py-5"
      style="
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
      "
    >
      <div class="container">
        <div class="row g-4">
          <div class="col-lg-4">
            <h5 class="mb-3 fw-bold text-white">Về Chúng Tôi</h5>
            <p class="mb-4 text-white">
              Món Ngon Việt Nam là cộng đồng chia sẻ công thức nấu ăn lớn nhất
              Việt Nam, nơi kết nối những người đam mê ẩm thực.
            </p>
            <div class="social-links d-flex gap-3">
              <a
                href="#"
                class="d-flex align-items-center justify-content-center rounded-circle bg-white bg-opacity-10 text-white fs-5"
                style="width: 44px; height: 44px"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a
                href="#"
                class="d-flex align-items-center justify-content-center rounded-circle bg-white bg-opacity-10 text-white fs-5"
                style="width: 44px; height: 44px"
                ><i class="fab fa-instagram"></i
              ></a>
              <a
                href="#"
                class="d-flex align-items-center justify-content-center rounded-circle bg-white bg-opacity-10 text-white fs-5"
                style="width: 44px; height: 44px"
                ><i class="fab fa-youtube"></i
              ></a>
              <a
                href="#"
                class="d-flex align-items-center justify-content-center rounded-circle bg-white bg-opacity-10 text-white fs-5"
                style="width: 44px; height: 44px"
                ><i class="fab fa-tiktok"></i
              ></a>
            </div>
          </div>
          <div class="col-lg-2">
            <h5 class="mb-3 fw-bold text-white">Khám Phá</h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a
                  href="/pages/recipes/list.html"
                  class="text-white text-decoration-none"
                  >Công thức</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="/pages/blog.html"
                  class="text-white text-decoration-none"
                  >Blog</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="/pages/about.html"
                  class="text-white text-decoration-none"
                  >Về chúng tôi</a
                >
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">Liên hệ</a>
              </li>
            </ul>
          </div>
          <div class="col-lg-3">
            <h5 class="mb-3 fw-bold text-white">Danh Mục</h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none"
                  >Món chính</a
                >
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none"
                  >Món tráng miệng</a
                >
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">Đồ uống</a>
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">Món chay</a>
              </li>
            </ul>
          </div>
          <div class="col-lg-3">
            <h5 class="mb-3 fw-bold text-white">Liên Hệ</h5>
            <ul class="list-unstyled text-white">
              <li class="mb-2">
                <i class="fas fa-envelope me-2"></i> lienhe@monngon.vn
              </li>
              <li class="mb-2">
                <i class="fas fa-phone me-2"></i> 0123.456.789
              </li>
              <li class="mb-2">
                <i class="fas fa-map-marker-alt me-2"></i> Hà Nội, Việt Nam
              </li>
            </ul>
          </div>
        </div>
        <hr class="my-4 bg-white" />
        <div class="text-center text-white">
          <p class="mb-0">© 2024 Món Ngon Việt Nam. Đã đăng ký bản quyền.</p>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="./assets/pages/recipes/js/recipes-main.js"></script>
    <script src="./assets/pages/recipes/js/recipes-anchay.js"></script>
    <script src="./assets/pages/recipes/js/recipes-dessert.js"></script>
    <script src="./assets/pages/recipes/js/recipes-drink.js"></script>
    <script src="./assets/pages/recipes/js/recipes-Khaivi.js"></script>
    <script src="./assets/pages/recipes/js/recipes-snack.js"></script>
    <script>
      // Initialize AOS
      AOS.init({
        duration: 800,
        once: true,
      });

      // Lấy dữ liệu công thức từ file JSON
      let trangHienTai = 1;
      const soMonMoiTrang = 6;
      let tongTrang = 1;
      let danhSachHienTai = [];

      // Gộp tất cả công thức từ các file JS
      const recipes = (typeof recipesMain !== "undefined" ? recipesMain : [])
        .concat(typeof recipesDessert !== "undefined" ? recipesDessert : [])
        .concat(typeof recipesDrink !== "undefined" ? recipesDrink : [])
        .concat(
          typeof recipesVegetarian !== "undefined" ? recipesVegetarian : []
        )
        .concat(typeof recipesKhaivi !== "undefined" ? recipesKhaivi : [])
        .concat(typeof recipesSnack !== "undefined" ? recipesSnack : []);

      danhSachHienTai = recipes;
      hienThiCongThuc(recipes);

      // Hàm lọc công thức theo danh mục
      const filterBtns = document.querySelectorAll(".filter-btn");
      function locCongThucTheoDanhMuc(danhMuc) {
        trangHienTai = 1;
        if (!danhMuc || danhMuc === "Tất cả") {
          danhSachHienTai = recipes;
          hienThiCongThuc(recipes);
        } else {
          const ketQua = recipes.filter(
            (ct) =>
              ct.tags &&
              ct.tags.some((tag) => tag.toLowerCase() === danhMuc.toLowerCase())
          );
          danhSachHienTai = ketQua;
          hienThiCongThuc(ketQua);
        }
      }
      filterBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          filterBtns.forEach((b) => b.classList.remove("active"));
          this.classList.add("active");
          const danhMuc = this.getAttribute("data-category");
          locCongThucTheoDanhMuc(danhMuc);
        });
      });
      // Tự động lọc theo danh mục từ URL
      function layThamSoTruyVan(ten) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(ten);
      }
      const danhMucURL = layThamSoTruyVan("category");
      if (danhMucURL) {
        let timThay = false;
        filterBtns.forEach((btn) => {
          if (
            btn.getAttribute("data-category").toLowerCase() ===
            danhMucURL.toLowerCase()
          ) {
            btn.classList.add("active");
            filterBtns.forEach((b) => {
              if (b !== btn) b.classList.remove("active");
            });
            locCongThucTheoDanhMuc(danhMucURL);
            timThay = true;
          }
        });
        if (!timThay) hienThiCongThuc(recipes);
      } else {
        hienThiCongThuc(recipes);
      }

      // Hàm hiển thị công thức
      function hienThiCongThuc(danhSach) {
        tongTrang = Math.ceil(danhSach.length / soMonMoiTrang);
        if (trangHienTai > tongTrang) trangHienTai = 1;
        const batDau = (trangHienTai - 1) * soMonMoiTrang;
        const ketThuc = batDau + soMonMoiTrang;
        const danhSachTrang = danhSach.slice(batDau, ketThuc);
        document.getElementById("recipeGrid").innerHTML = danhSachTrang
          .map(
            (congThuc) => `
<div class="col-md-6 col-lg-4" data-aos="fade-up">
  <div class="recipe-card" data-id="${congThuc.id}" style="cursor:pointer">
    <img src="${congThuc.image}" class="recipe-image w-100" alt="${
              congThuc.title
            }">
    <div class="recipe-info">
      <h3 class="recipe-title">${congThuc.title}</h3>
      <p class="text-muted mb-3">${congThuc.description || ""}</p>
      <div class="recipe-meta">
        <span><i class="fas fa-clock"></i> ${congThuc.time} phút</span>
        <span><i class="fas fa-star"></i> ${congThuc.rating}</span>
        <span><i class="fas fa-user"></i> ${congThuc.author || ""}</span>
      </div>
      <div class="recipe-meta mt-2">
        <span><i class="fas fa-signal"></i> ${congThuc.difficulty || ""}</span>
      </div>
      <div class="recipe-tags">
        ${(congThuc.tags || [])
          .map((tag) => `<span class="recipe-tag">${tag}</span>`)
          .join("")}
      </div>
    </div>
  </div>
</div>
`
          )
          .join("");
        // Gán lại sự kiện click cho từng card sau khi render
        setTimeout(() => {
          document.querySelectorAll(".recipe-card").forEach((card) => {
            card.addEventListener("click", function () {
              const id = this.getAttribute("data-id");
              // Lấy category đang active
              const activeBtn = document.querySelector(".filter-btn.active");
              let category = activeBtn
                ? activeBtn.getAttribute("data-category")
                : "";
              // Nếu là "Tất cả" thì không truyền category
              let url = `detail.html?id=${id}`;
              if (category && category !== "Tất cả") {
                url += `&category=${encodeURIComponent(category)}`;
              }
              window.location.href = url;
            });
          });
        }, 0);
        hienThiPhanTrang(danhSach);
      }

      function hienThiPhanTrang(danhSach) {
        tongTrang = Math.ceil(danhSach.length / soMonMoiTrang);
        let html = "";
        if (tongTrang > 1) {
          html += `<li class="page-item${
            trangHienTai === 1 ? " disabled" : ""
          }"><a class="page-link" href="#" data-page="prev" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>`;
          if (tongTrang <= 7) {
            for (let i = 1; i <= tongTrang; i++) {
              html += `<li class="page-item${
                trangHienTai === i ? " active" : ""
              }"><a class="page-link" href="#" data-page="${i}">${i}</a></li>`;
            }
          } else {
            let start, end;
            if (trangHienTai <= 3) {
              start = 1;
              end = 6;
            } else if (trangHienTai >= tongTrang - 2) {
              start = tongTrang - 5;
              end = tongTrang;
            } else {
              start = trangHienTai - 2;
              end = trangHienTai + 3;
            }
            if (start > 1) {
              html += `<li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>`;
              if (start > 2) {
                html += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
              }
            }
            for (let i = start; i <= end && i <= tongTrang; i++) {
              html += `<li class="page-item${
                trangHienTai === i ? " active" : ""
              }"><a class="page-link" href="#" data-page="${i}">${i}</a></li>`;
            }
            if (end < tongTrang) {
              if (end < tongTrang - 1) {
                html += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
              }
              html += `<li class="page-item"><a class="page-link" href="#" data-page="${tongTrang}">${tongTrang}</a></li>`;
            }
          }
          html += `<li class="page-item${
            trangHienTai === tongTrang ? " disabled" : ""
          }"><a class="page-link" href="#" data-page="next" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>`;
        }
        document.querySelector(".pagination").innerHTML = html;
        // Gán sự kiện click cho phân trang
        document.querySelectorAll(".pagination .page-link").forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const page = this.getAttribute("data-page");
            if (page === "prev" && trangHienTai > 1) {
              trangHienTai--;
            } else if (page === "next" && trangHienTai < tongTrang) {
              trangHienTai++;
            } else if (!isNaN(page)) {
              trangHienTai = parseInt(page);
            }
            hienThiCongThuc(danhSach);
          });
        });
      }
      // Lọc công thức theo danh mục
      function filterRecipesByCategory(category) {
        let filteredRecipes = allRecipes;
        if (category !== "Tất cả") {
          filteredRecipes = allRecipes.filter(
            (recipe) =>
              recipe.tags &&
              recipe.tags.some(
                (tag) => tag.toLowerCase() === category.toLowerCase()
              )
          );
        }
        danhSachHienTai = filteredRecipes;
        hienThiCongThuc(filteredRecipes);
      }

      // Đọc category từ URL
      const params = new URLSearchParams(window.location.search);
      const category = params.get("category") || "Tất cả";

      // Kích hoạt đúng tab
      document.querySelectorAll(".filter-btn").forEach((btn) => {
        btn.classList.remove("active");
        if (btn.getAttribute("data-category") === category) {
          btn.classList.add("active");
        }
        btn.addEventListener("click", function () {
          document
            .querySelectorAll(".filter-btn")
            .forEach((b) => b.classList.remove("active"));
          this.classList.add("active");
          const danhMuc = this.getAttribute("data-category");
          filterRecipesByCategory(danhMuc);
        });
      });

    </script>
  </body>
</html>
